@model SearchResult<Country>

@{
    ViewData["Title"] = "Index";
}



<div id="main-div">

    <div class="kt-portlet kt-portlet--responsive-mobile">
        <div class="kt-portlet__head">
            <div class="kt-portlet__head-label">
                <span class="kt-portlet__head-icon">
                    <i class="flaticon-search kt-font-brand"></i>
                </span>
                <h3 class="kt-portlet__head-title kt-font-brand">
                    @CommonText.Search
                </h3>
            </div>
        </div>
        <form id="search-form"
              asp-ajax="true"
              asp-ajax-replace="#list"
              asp-ajax-block="#main-div">
            <div class="kt-portlet__body">
                <partial name="_SearchForm" model="new CountrySearchViewModel()" />
            </div>

            <div class="kt-portlet__foot">
                <button type="submit" class="btn btn-brand m-btn m-btn--custom btn-sm">
                    <span>
                        <i class="fa fa-search"></i>
                        <span>
                            @CommonText.Search
                        </span>
                    </span>

                </button>
                <button type="submit" onclick="clearFromData('#search-form')" class="btn btn-outline-brand btn-sm">
                    <span>
                        <i class="fa fa-trash"></i>
                        <span>
                            @CommonText.ClearSearch
                        </span>
                    </span>
                </button>

            </div>
        </form>
    </div>

    <div class="kt-portlet kt-portlet--responsive-mobile">
        <div class="kt-portlet__head">
            <div class="kt-portlet__head-label">
                <span class="kt-portlet__head-icon">
                    <i class="flaticon-globe kt-font-brand"></i>
                </span>
                <h3 class="kt-portlet__head-title kt-font-brand">
                    @CommonText.Countries
                </h3>
            </div>
            <div class="kt-portlet__head-toolbar">
                <div class="btn-group" role="group" aria-label="Button group with nested dropdown">
                    <button type="button" data-toggle="modal" data-target="#add-modal"
                            class="m-portlet__nav-link btn btn-brand btn-sm m-btn m-btn--icon">
                        <span>
                            <i class="fa fa-plus"></i>
                            <span>
                                @CommonText.Add
                            </span>
                        </span>
                    </button>
                </div>
            </div>
        </div>
        <div class="kt-portlet__body">

            <div id="list">
                <partial name="_List" />
            </div>
        </div>
    </div>

</div>

<modal id="edit-modal" asp-is-large="true" asp-content-id="edit-content">
    <modal-header></modal-header>

    <form id="edit-form"
          asp-ajax="true"
          asp-ajax-block="#edit-content"
          asp-ajax-modal="#edit-modal"
          asp-ajax-error="#edit-alert"
          asp-ajax-success-method="updateListFromDiv('#list');"
          asp-controller="Country"
          asp-action="Update">

        <modal-body>
            <div id="edit-alert"></div>
            <div id="edit-div">

            </div>
        </modal-body>
        <modal-footer asp-show-close-button="true">
            <button type="submit" class="btn btn-sm btn-brand">
                <i class="fa fa-save"></i>
                @CommonText.Save
            </button>
        </modal-footer>
    </form>
</modal>

<modal id="add-modal" asp-is-large="true" asp-content-id="add-content" asp-reset-validation="true">
    <modal-header></modal-header>
    <form id="add-form"
          method="post"
          asp-ajax="true"
          asp-action="Add"
          asp-ajax-modal="#add-modal"
          asp-ajax-success-method="updateListFromDiv('#list');"
          asp-ajax-error="#add-alert"
          asp-controller="Country"
          asp-ajax-block="#add-content">
        <modal-body>
            <div id="add-alert" data-alert></div>
            <partial name="_Form" model="new CountryViewModel()" />
        </modal-body>
        <modal-footer asp-show-close-button="true">

            <button type="submit" class="btn btn-brand btn-sm m-btn m-btn--icon">
                <i class="fa fa-plus"></i>
                @CommonText.Add
            </button>
        </modal-footer>
    </form>
</modal>
